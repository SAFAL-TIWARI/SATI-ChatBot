// SATI AI Assistant - Comprehensive Knowledge Base (JavaScript Version)

const SATI_KNOWLEDGE_BASE = {
    institute_overview: {
        title: "Institute Overview",
        source: "Wikipedia & Official Website",
        content: `
        Samrat Ashok Technological Institute (SATI) is a Grant-in-Aid Autonomous college located in Vidisha, Madhya Pradesh, India. 
        
        Key Facts:
        - Established: November 1, 1960
        - Founder: Late Maharaja Jiwajirao Scindia
        - Funding Source: Gangajali Trust fund donation
        - Management: Maharaja Jiwaji Rao Education Society (chaired by Hon'ble Shrimant Jyotiraditya Madhavrao Scindia)
        - Campus Area: 85 acres
        - Foundation Stone: Laid by Pt. Jawaharlal Nehru (February 13, 1962)
        - Inauguration: By Dr. Rajendra Prasad (President of India)
        - University Affiliation: Rajiv Gandhi Proudyogiki Vishwavidyalaya (RGPV) Bhopal since 1998
        - Accreditation: NAAC certified (March 2016), NBA accredited for B.Tech programs in Civil, Mechanical, E&I, and CSE
        - World Bank Support: Selected under TEQIP-III for Rs. 15 crores financial assistance
        `
    },
    history: {
        title: "Historical Background",
        source: "Wikipedia",
        content: `
        SATI was established under the "Open Door" policy of Government of India with donations from the Gitanjali Trust Fund of the Scindias (erstwhile rulers of Gwalior state).
        
        Historical Timeline:
        - 1960: Institute established on November 1
        - 1962: Foundation stone laid by PM Jawaharlal Nehru
        - Initially affiliated to Vikram University Ujjain
        - Later affiliated to Bhopal University (now Barkatullah University)
        - 1998: Became part of RGPV Bhopal
        - 2016: Received NAAC certification
        
        Named After: Emperor Ashoka the Great, who was governor of Chandragupta Maurya in Ujjain and Vidisha, and married Devi (daughter of a Vidisha businessman).
        
        Initial Courses: Started with Civil Engineering, Mechanical Engineering & Electrical Engineering degree courses.
        `
    },
    academic_programs: {
        title: "Academic Programs",
        source: "Official Website & Wikipedia",
        content: `
        UNDERGRADUATE PROGRAMS (B.Tech):
        Full-time Programs:
        - Civil Engineering - 60 seats
        - Computer Science & Engineering - 120 seats
        - Electronics & Communication Engineering - 60 seats
        - Electrical Engineering - 60 seats
        - Electronics & Instrumentation Engineering - 120 seats
        - Mechanical Engineering - 120 seats
        - Internet of Things (IoT) - 60 seats
        - Artificial Intelligence & Data Science - 60 seats
        - Computer Science & Engineering in Blockchain Technology - 60 seats
        - Information Technology - 60 seats
        
        Part-time B.E. Programs (4-year duration for serving diploma holders)
        
        POSTGRADUATE PROGRAMS:
        M.Tech Programs (4 semesters):
        - Advanced Production Systems (Mechanical) - Full Time
        - Construction Technology & Management (Civil) - Full/Part Time
        - Transportation Engineering (Civil) - Full Time
        - Environmental Engineering (Civil) - Full Time
        - Power Electronics (Electrical) - Full Time
        - Computer Science & Engineering - Full Time
        
        Other Masters Programs:
        - M.C.A. (Master of Computer Applications) - 4 semesters, 30 seats
        - M.Sc. Applied Chemistry - 4 semesters, 25 seats
        - M.B.A. (Master of Business Administration) - 4 semesters, 60 seats
        
        RESEARCH PROGRAMS:
        - Ph.D. programs in all engineering, technology, science, and management disciplines
        - D.Sc. Program (approved by Barkatullah University Bhopal)
        - QIP research center for Ph.D. in Civil, Mechanical, Electrical, CS, IT (2 seats each)
        
        Note: Two new B.Tech programs will be introduced for academic year 2025-26.
        Biomedical Engineering and Petrochemical Engineering were discontinued in 2019.
        `
    },
    campus_facilities: {
        title: "Campus & Facilities",
        source: "Wikipedia & Official Details",
        content: `
        CAMPUS:
        - Location: Civil lines area near industrial state of Vidisha
        - Total Area: 85 acres
        - Buildings: Engineering College, Polytechnic College
        
        ACCOMMODATION:
        Boys Hostels (4 hostels, 325 capacity):
        - R.N. Tagore Hostel (First year, newest, Wi-Fi enabled, 34 rooms with 3 beds each)
        - Sir C.V. Raman Hostel (First year, oldest, Wi-Fi enabled since 2009)
        - J.L. Nehru Hostel (Senior hostel, double story, 100+ students)
        
        Girls Hostels (2 hostels, 200 capacity):
        - Indira Gandhi Hostel
        - Kalpana Chawla Hostel
        
        Hostel Facilities: Well-furnished rooms, hygienic mess, water filters, indoor game halls, study halls, TV halls, gardens, Wi-Fi, gym, yoga facilities
        
        ACADEMIC FACILITIES:
        - Central Library: 70,000+ volumes, 100+ national/international journals, e-resource access, INDEST AICTE & INFLIBNET consortium membership
        - V.V. Natu Computer Center: 120 PCs
        - Modern Central Workshop with metrology laboratory
        - Laboratories in all departments (Computer Science, Mechanical, Chemistry, Electronics, Electrical, and more)
        - Automobile service station
        
        OTHER FACILITIES:
        - Kailash Satyarthi Auditorium
        - Guest House & Alumni Transit Home
        - Canteen & Cooperative Store
        - State Bank of India branch, ATM, Post Office
        - Dispensary (with hospital tie-up)
        - Central Reprographic Center
        - Kiosk Centre
        - Sports: Two outdoor grounds, indoor sports hall (badminton wooden court, table tennis), gym
        - Quarters for professors and employees
        `
    },
    student_life: {
        title: "Student Life & Activities",
        source: "Official Details",
        content: `
        STUDENT CLUBS & ACTIVITIES:
        - Social Service Club
        - NCC (National Cadet Corps)
        - NSS (National Service Scheme)
        - Art & Literary Club
        - Music Club
        - Dance Club
        - SPIC MACAY (Society for Promotion of Indian Classical Music and Culture)
        - FLUX Hackathon organizers
        - Wiki Club (India's 2nd official Wiki Club)
        
        SPORTS FACILITIES:
        - Two outdoor grounds with volleyball courts
        - Indoor sports hall with wooden badminton court
        - Table tennis facilities
        - Gymnasium
        - Green spaces and gardens around hostels
        
        SPECIAL PROGRAMS:
        - Technical festivals and hackathons
        - Cultural events and competitions
        - Research publications through SATI Journal of Science and Technology
        `
    },
    placements: {
        title: "Placements & Career Opportunities",
        source: "Latest Placement Data 2024",
        content: `
        PLACEMENT STATISTICS (2022-23):
        - Total Students Placed: 300+ across various specializations
        - Highest Package (On-campus): INR 9 LPA (ValueLabs, Intellipaat)
        - Highest Package (Off-campus): INR 21 LPA
        - Average Package Range: INR 3.5 LPA to INR 7.5 LPA
        - CSE Highest Package (2024): INR 12 LPA
        - CSE Lowest Package (2024): INR 3.86 LPA
        
        TOP RECRUITING COMPANIES:
        - TCS (Tata Consultancy Services)
        - Infosys
        - Capgemini
        - ValueLabs
        - Intellipaat
        - And many other leading companies
        
        PLACEMENT SUPPORT:
        - Dedicated Placement Cell
        - Industry collaborations for internships
        - Training programs for skill development
        - Career guidance and counseling
        `
    },
    notable_alumni: {
        title: "Distinguished Alumni",
        source: "Wikipedia & Official Records",
        content: `
        NOTABLE ALUMNI:
        - Kailash Satyarthi: Nobel Peace Prize laureate (2014)
        - P.B. Sharma: Vice-Chancellor, Amity University Gurgaon; Former Vice-Chancellor, Delhi Technological University
        - Padma Shri V.K. Chaturvedi: Former Chairman & Managing Director, Nuclear Power Corporation of India
        - Pratap Bhanu Sharma: Former Member of Parliament, Vidisha
        - Harneet Singh: CEO, Domino's Pizza
        
        Alumni Network: Strong network of graduates serving in various sectors including technology, government, academia, and industry leadership positions.
        `
    },
    location_connectivity: {
        title: "Location & Connectivity",
        source: "General Information",
        content: `
        LOCATION:
        - City: Vidisha, Madhya Pradesh, India
        - Pin Code: 464001
        - Region: Central India
        - Significance: Vidisha is historically significant, formerly known as Bhelsa
        - Industrial Area: Located near industrial state of Vidisha
        
        CONNECTIVITY:
        - Well-connected by road and rail
        - Proximity to major cities in Madhya Pradesh
        - Easy access to Bhopal (state capital)
        `
    }
};

// Main prompt template for SATI AI Assistant
const SATI_AI_PROMPT = `You are SATI AI Assistant, a knowledgeable and helpful AI specifically designed to provide accurate information about Samrat Ashok Technological Institute (SATI), Vidisha, Madhya Pradesh, India.

IMPORTANT INSTRUCTIONS:
1. You have comprehensive knowledge about SATI from official sources, Wikipedia, and current data
2. Always provide accurate, factual information based on the knowledge base provided
3. If asked about SATI-related topics, use the detailed information from the knowledge base
4. Be helpful, friendly, and professional in your responses
5. If you don't have specific information about a SATI-related query, clearly state that you don't have that particular information
6. For non-SATI related questions, you can provide general helpful responses
7. Always maintain accuracy and never provide false or made-up information about SATI

KNOWLEDGE BASE SUMMARY:
- SATI is an autonomous engineering college established in 1960 in Vidisha, MP
- Offers B.Tech, M.Tech, MCA, MBA, M.Sc., Ph.D., and D.Sc. programs
- 85-acre campus with modern facilities, hostels, and laboratories
- Strong placement record with packages ranging from 3.5 LPA to 21 LPA
- Notable alumni include Nobel laureate Kailash Satyarthi
- Active student life with various clubs and activities
- NAAC and NBA accredited institution

When responding to queries about SATI, draw from the comprehensive knowledge base to provide detailed, accurate, and helpful information.`;

// Function to get contextual prompt based on query type
function getContextualPrompt(userQuery) {
    const queryLower = userQuery.toLowerCase();
    const relevantContexts = [];

    // Determine relevant context based on query keywords
    if (/history|established|founded|background|ashoka/i.test(queryLower)) {
        relevantContexts.push(SATI_KNOWLEDGE_BASE.history.content);
    }

    if (/course|program|degree|btech|mtech|mba|admission/i.test(queryLower)) {
        relevantContexts.push(SATI_KNOWLEDGE_BASE.academic_programs.content);
    }

    if (/hostel|accommodation|facility|campus|library/i.test(queryLower)) {
        relevantContexts.push(SATI_KNOWLEDGE_BASE.campus_facilities.content);
    }

    if (/placement|job|salary|company|career/i.test(queryLower)) {
        relevantContexts.push(SATI_KNOWLEDGE_BASE.placements.content);
    }

    if (/club|activity|sports|student life|ncc|nss/i.test(queryLower)) {
        relevantContexts.push(SATI_KNOWLEDGE_BASE.student_life.content);
    }

    if (/alumni|kailash satyarthi|notable|famous/i.test(queryLower)) {
        relevantContexts.push(SATI_KNOWLEDGE_BASE.notable_alumni.content);
    }

    // If no specific context matches, provide general overview
    if (relevantContexts.length === 0) {
        relevantContexts.push(SATI_KNOWLEDGE_BASE.institute_overview.content);
    }

    // Combine relevant contexts
    const context = relevantContexts.join('\n\n');

    return `${SATI_AI_PROMPT}\n\nRELEVANT CONTEXT FOR YOUR QUERY:\n${context}\n\nUser Query: ${userQuery}\n\nPlease provide a helpful and accurate response based on the above information.`;
}

// Function to check if query is SATI-related
function isSATIRelated(query) {
    const satiKeywords = [
        'sati', 'samrat ashok', 'technological institute', 'vidisha',
        'admission', 'placement', 'hostel', 'course', 'program', 'branch',
        'fee', 'faculty', 'library', 'campus', 'facility', 'history',
        'kailash satyarthi', 'rgpv', 'naac', 'nba'
    ];

    const queryLower = query.toLowerCase();
    return satiKeywords.some(keyword => queryLower.includes(keyword));
}

// Default prompt for general queries
function getDefaultPrompt() {
    return SATI_AI_PROMPT;
}

// Enhanced prompts for different categories
const SATI_ENHANCED_PROMPTS = {
    admissions: "How do I get admission to SATI Vidisha? Please include JEE Main cutoffs (branch-wise trends), eligibility, admission steps, important dates, required documents, fee structure, and reservation/quota details with timeline and tips for applicants.",

    academics: "What B.Tech and M.Tech programs does SATI Vidisha offer? Please include curriculum details, semester-wise subjects, specializations, faculty expertise, labs, academic calendar, exam pattern, grading system, and unique academic features.",

    placements: "What are SATI Vidisha's placement records? Please include recent placement stats, top recruiters, branch-wise average and highest salary packages, placement rates, pre-placement training, internships, career services, alumni network, and notable alumni success stories.",

    campus: "Tell me about SATI Vidisha's campus facilities. Include hostel types and amenities, mess and food quality, accommodation options, infrastructure, sports and recreation, medical services, library, internet, transport, campus environment, hostel fees, and room allocation process.",

    activities: "What activities can I join at SATI Vidisha? Please share details about technical clubs, cultural groups, sports teams, fests and events, inter-college competitions, student leadership roles, community service, and notable student achievements.",

    institute: "Tell me about SATI Vidisha's background. Include its history, key milestones, accreditations, rankings, notable alumni, faculty achievements, research, industry tie-ups, infrastructure growth, and overall reputation in Madhya Pradesh and India."
};

// Function to get enhanced prompt by type
function getEnhancedPrompt(promptType) {
    return SATI_ENHANCED_PROMPTS[promptType] || "Tell me about SATI Vidisha.";
}

// Make the function available globally
window.getEnhancedPrompt = getEnhancedPrompt;

// Export for use in other files
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        SATI_KNOWLEDGE_BASE,
        SATI_AI_PROMPT,
        SATI_ENHANCED_PROMPTS,
        getContextualPrompt,
        isSATIRelated,
        getDefaultPrompt,
        getEnhancedPrompt
    };
}